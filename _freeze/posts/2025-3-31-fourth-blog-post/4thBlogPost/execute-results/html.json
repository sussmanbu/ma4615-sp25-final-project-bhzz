{
  "hash": "734c6c74de7c9595d80e07ff246c8220",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"4thBlogPost\"\nformat: html\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readr)\nViolence <- read_csv(\"scripts/Violence_clean_missing.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 51070 Columns: 12\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (8): TIME_PERIOD, TIME_PERIOD_START, TIME_PERIOD_END, PRIMARY_TYPE, AGE,...\ndbl (2): NUMBER_OF_VICTIMS, Year\nlgl (2): JUVENILE_I, DOMESTIC_I\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\n# Load packages\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'dplyr'\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(broom)\nlibrary(ggeffects) # for prediction plotting\n \n# Step 1: Create binary response variable\nViolence_clean <- Violence |>\n  filter(!is.na(SEX), !is.na(RACE), !is.na(PRIMARY_TYPE)) |>\n  mutate(\n    IS_SEXUAL_ASSAULT = ifelse(PRIMARY_TYPE == \"CRIMINAL SEXUAL ASSAULT\", 1, 0),\n    SEX = factor(SEX),\n    RACE = factor(RACE)\n  )\n \n# Step 2: Fit logistic regression\nmodel <- glm(IS_SEXUAL_ASSAULT ~ SEX * RACE, data = Violence_clean, family = \"binomial\")\n \n# Step 3: Summarize model\nsummary(model)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nglm(formula = IS_SEXUAL_ASSAULT ~ SEX * RACE, family = \"binomial\", \n    data = Violence_clean)\n\nCoefficients: (3 not defined because of singularities)\n                         Estimate Std. Error z value Pr(>|z|)    \n(Intercept)            -1.495e+00  6.072e-02 -24.626  < 2e-16 ***\nSEXM                   -2.473e+00  1.672e-01 -14.794  < 2e-16 ***\nSEXUNKNOWN             -1.683e+00  1.022e+00  -1.646   0.0998 .  \nRACEBLK                -1.416e-01  6.781e-02  -2.089   0.0367 *  \nRACEI                  -2.850e-01  1.739e-01  -1.639   0.1013    \nRACES                  -7.598e+00  9.848e+01  -0.077   0.9385    \nRACEUNKNOWN             5.658e-02  8.115e-02   0.697   0.4856    \nRACEWBH                 4.771e-04  9.645e-02   0.005   0.9961    \nRACEWHI                 1.670e-01  6.993e-02   2.388   0.0169 *  \nRACEWWH                 7.226e-02  6.985e-02   1.035   0.3009    \nSEXM:RACEBLK            1.614e+00  1.747e-01   9.240  < 2e-16 ***\nSEXUNKNOWN:RACEBLK      3.290e-01  1.048e+00   0.314   0.7536    \nSEXM:RACEI             -4.153e-01  4.458e-01  -0.932   0.3515    \nSEXUNKNOWN:RACEI       -8.103e+00  1.137e+02  -0.071   0.9432    \nSEXM:RACES                     NA         NA      NA       NA    \nSEXUNKNOWN:RACES               NA         NA      NA       NA    \nSEXM:RACEUNKNOWN        1.065e+00  1.979e-01   5.380 7.44e-08 ***\nSEXUNKNOWN:RACEUNKNOWN         NA         NA      NA       NA    \nSEXM:RACEWBH            1.761e-01  2.459e-01   0.716   0.4740    \nSEXUNKNOWN:RACEWBH      1.098e+00  1.475e+00   0.744   0.4566    \nSEXM:RACEWHI            1.364e+00  1.784e-01   7.647 2.05e-14 ***\nSEXUNKNOWN:RACEWHI      4.796e-01  1.096e+00   0.438   0.6616    \nSEXM:RACEWWH            1.319e+00  1.783e-01   7.402 1.34e-13 ***\nSEXUNKNOWN:RACEWWH      9.827e-01  1.061e+00   0.926   0.3545    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 37548  on 51069  degrees of freedom\nResidual deviance: 35408  on 51049  degrees of freedom\nAIC: 35450\n\nNumber of Fisher Scoring iterations: 10\n```\n\n\n:::\n\n```{.r .cell-code}\n# Optional: Tidy output\ntidy(model, exponentiate = TRUE, conf.int = TRUE)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in regularize.values(x, y, ties, missing(ties), na.rm = na.rm):\ncollapsing to unique 'x' values\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 24 × 7\n   term        estimate std.error statistic   p.value conf.low conf.high\n   <chr>          <dbl>     <dbl>     <dbl>     <dbl>    <dbl>     <dbl>\n 1 (Intercept) 0.224       0.0607 -24.6     6.72e-134   0.199      0.252\n 2 SEXM        0.0843      0.167  -14.8     1.60e- 49   0.0599     0.116\n 3 SEXUNKNOWN  0.186       1.02    -1.65    9.98e-  2   0.0104     0.884\n 4 RACEBLK     0.868       0.0678  -2.09    3.67e-  2   0.761      0.992\n 5 RACEI       0.752       0.174   -1.64    1.01e-  1   0.529      1.05 \n 6 RACES       0.000502   98.5     -0.0771  9.39e-  1  NA         40.0  \n 7 RACEUNKNOWN 1.06        0.0811   0.697   4.86e-  1   0.903      1.24 \n 8 RACEWBH     1.00        0.0965   0.00495 9.96e-  1   0.827      1.21 \n 9 RACEWHI     1.18        0.0699   2.39    1.69e-  2   1.03       1.36 \n10 RACEWWH     1.07        0.0699   1.03    3.01e-  1   0.938      1.23 \n# ℹ 14 more rows\n```\n\n\n:::\n\n```{.r .cell-code}\n# Step 4: Plot predicted probabilities\npred <- ggpredict(model, terms = c(\"SEX\", \"RACE\"))\nplot(pred) + \n  labs(title = \"Predicted probability of sexual assault victimization\",\n       y = \"Probability\", x = \"Sex\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](4thBlogPost_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "4thBlogPost_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}